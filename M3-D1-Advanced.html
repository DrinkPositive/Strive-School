<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      /* 1) MAX CHAR
Given a string, return the character that is most
commonly used in the string.
--- Examples
    maxChar("abcccccccd") === "c"
    maxChar("apple 1231111") === "1"
*/

      function maxChar(str) {
        const charMap = {};
        let max = 0;
        let maxChar = "";

        // create character map
        for (let char of str) {
          if (charMap[char]) {
            // increment the character's value if the character existed in the map
            charMap[char]++;
          } else {
            // Otherwise, the value of the character will be increamented by 1
            charMap[char] = 1;
          }
        }

        // find the most commonly used character
        for (let char in charMap) {
          if (charMap[char] > max) {
            max = charMap[char];
            maxChar = char;
          }
        }

        return maxChar;
      }

      console.log(maxChar("abcccccccd"));

      /* 2) ANAGRAMS
Check to see if two provided strings are anagrams of each other.
One string is an anagram of another if it uses the same characters
in the same quantity. Only consider characters, not spaces
or punctuation.  Consider capital letters to be the same as lower case
--- Examples
  anagrams('rail safety', 'fairy tales') --> True
  anagrams('RAIL! SAFETY!', 'fairy tales') --> True
  anagrams('Hi there', 'Bye there') --> False
*/

      function compare(a, b) {
        var y = a.split("").sort().join(""),
          z = b.split("").sort().join("");
        console.log(
          z === y
            ? a + " and " + b + " are anagrams!"
            : a + " and " + b + " are not anagrams."
        );
      }
      console.log(compare("Test", "Test"));

      /* 3) ANAGRAMS 2
Given a word and a list of possible anagrams, select the correct sublist.
--- Examples 
    "listen" and a list of candidates like "enlists" "google" "inlets" "banana" the program should return a list containing "inlets".
*/

      var input = "monk, konm, bbc, cbb, dell, ledl";
      var words = input.split(", ");

      for (var i = 0; i < words.length; i++) {
        var word = words[i];
        var alphabetical = word.split("").sort().join("");

        for (var j = 0; j < words.length; j++) {
          if (i === j) {
            continue;
          }

          var other = words[j];
          if (alphabetical === other.split("").sort().join("")) {
            console.log(word + " - " + other + " (" + i + ", " + j + ")");
          }
        }
      }

      /* 4) PALINDROME
Given a string, return true if the string is a palindrome
or false if it is not.  Palindromes are strings that
form the same word if it is reversed. Do include spaces
and punctuation in determining if the string is a palindrome.
--- Examples:
    palindrome("abba") === true
    palindrome("abcdefg") === false
 */

      function palindrome(str) {
        // Step 1. Lowercase the string and use the RegExp to remove unwanted characters from it
        var re = /[\W_]/g; // or var re = /[^A-Za-z0-9]/g;

        var lowRegStr = str.toLowerCase().replace(re, "");
        // str.toLowerCase() = "A man, a plan, a canal. Panama".toLowerCase() = "a man, a plan, a canal. panama"
        // str.replace(/[\W_]/g, '') = "a man, a plan, a canal. panama".replace(/[\W_]/g, '') = "amanaplanacanalpanama"
        // var lowRegStr = "amanaplanacanalpanama";

        // Step 2. Use the same chaining methods with built-in functions from the previous article 'Three Ways to Reverse a String in JavaScript'
        var reverseStr = lowRegStr.split("").reverse().join("");
        // lowRegStr.split('') = "amanaplanacanalpanama".split('') = ["a", "m", "a", "n", "a", "p", "l", "a", "n", "a", "c", "a", "n", "a", "l", "p", "a", "n", "a", "m", "a"]
        // ["a", "m", "a", "n", "a", "p", "l", "a", "n", "a", "c", "a", "n", "a", "l", "p", "a", "n", "a", "m", "a"].reverse() = ["a", "m", "a", "n", "a", "p", "l", "a", "n", "a", "c", "a", "n", "a", "l", "p", "a", "n", "a", "m", "a"]
        // ["a", "m", "a", "n", "a", "p", "l", "a", "n", "a", "c", "a", "n", "a", "l", "p", "a", "n", "a", "m", "a"].join('') = "amanaplanacanalpanama"
        // So, "amanaplanacanalpanama".split('').reverse().join('') = "amanaplanacanalpanama";
        // And, var reverseStr = "amanaplanacanalpanama";

        // Step 3. Check if reverseStr is strictly equals to lowRegStr and return a Boolean
        return reverseStr === lowRegStr; // "amanaplanacanalpanama" === "amanaplanacanalpanama"? => true
      }

      console.log(palindrome("A man, a plan, a canal. Panama"));

      /* 5) REVERSE INT
Given an integer, return an integer that is the reverse
ordering of numbers.
--- Examples
    reverseInt(15) === 51
    reverseInt(981) === 189
    reverseInt(500) === 5
    reverseInt(-15) === -51
    reverseInt(-90) === -9
 */
      function reverseInt(num) {
        let reversed = "";
        for (var i = num.length - 1; i >= 0; i--) {
          reversed += num[i];
        }
        return reversed;
      }
      console.log(reverseInt("90"));

      /* 6) STEPS
Write a function that accepts a positive number N.
The function should console log a step shape
with N levels using the # character.  Make sure the
step has spaces on the right hand side!
--- Examples
    steps(2)
        '# '
        '##'
    steps(3)
        '#  '
        '## '
        '###'
    steps(4)
        '#   '
        '##  '
        '### '
        '####' */

      function steps(n, i = 1) {
        if (i > n) return;
        console.log("#".repeat(i) + " ".repeat(n - i));
        steps(n, i + 1);
      }

      console.log(steps(3));

      /* 7) REVERSE STRING
Given a string, return a new string with the reversed
order of characters
--- Examples
    reverse('apple') === 'leppa'
    reverse('hello') === 'olleh'
    reverse('Greetings!') === '!sgniteerG'
 */

      function reverseInt(string) {
        let reversed = "";
        for (var i = string.length - 1; i >= 0; i--) {
          reversed += string[i];
        }
        return reversed;
      }
      console.log(reverseInt("elppA"));

      /* 8) CHUNK
Given an array and chunk size, divide the array into many subarrays
where each subarray is of length size
--- Examples
    chunk([1, 2, 3, 4], 2) --> [[ 1, 2], [3, 4]]
    chunk([1, 2, 3, 4, 5], 2) --> [[ 1, 2], [3, 4], [5]]
    chunk([1, 2, 3, 4, 5, 6, 7, 8], 3) --> [[ 1, 2, 3], [4, 5, 6], [7, 8]]
    chunk([1, 2, 3, 4, 5], 4) --> [[ 1, 2, 3, 4], [5]]
    chunk([1, 2, 3, 4, 5], 10) --> [[ 1, 2, 3, 4, 5]]
*/

      function chunk(array, size) {
        const chunked_arr = [];
        for (let i = 0; i < array.length; i++) {
          const last = chunked_arr[chunked_arr.length - 1];
          if (!last || last.length === size) {
            chunked_arr.push([array[i]]);
          } else {
            last.push(array[i]);
          }
        }
        return chunked_arr;
      }

      console.log(chunk([1, 2, 3, 4, 5], 10));

      /* 9) PYRAMID
Write a function that accepts a positive number N.
The function should console log a pyramid shape
with N levels using the # character.  Make sure the
pyramid has spaces on both the left and right hand sides
--- Examples
    pyramid(1)
        '#'
    pyramid(2)
        ' # '
        '###'
    pyramid(3)
        '  #  '
        ' ### '
        '#####' */

      function pyramid(n, row = 0, level = "") {
        if (row === n) {
          return;
        } else if (level.length === 2 * n - 1) {
          console.log(level);
          return pyramid(n, row + 1, "");
        } else {
          if (level === "") {
            level = "#";
            return pyramid(n, row, level);
          } else if (level.length < 2 * row + 1) {
            level = "#" + level + "#";
            return pyramid(n, row, level);
          } else {
            level = " " + level + " ";
            return pyramid(n, row, level);
          }
        }
      }

      console.log(pyramid(5));

      /* 10) SPYRAL MATRIX
Write a function that accepts an integer N
and returns a NxN spiral matrix.
--- Examples
    matrix(2)
        [[1, 2],
        [4, 3]]
    matrix(3)
        [[1, 2, 3],
        [8, 9, 4],
        [7, 6, 5]]
    matrix(4)
        [[1, 2, 3, 4],
        [12, 13, 14, 5],
        [11, 16, 15, 6],
        [10,  9,  8, 7]]
*/

      function matrix(n) {
        const results = [];

        for (let i = 0; i < n; i++) {
          results.push([]);
        }

        let counter = 1;

        let startColumn = 0;
        let endColumn = n - 1;
        let startRow = 0;
        let endRow = n - 1;

        while (startColumn <= endColumn && startRow <= endRow) {
          for (let i = startColumn; i <= endColumn; i++) {
            results[startRow][i] = counter;
            counter++;
          }
          startRow++;

          for (let i = startRow; i <= endRow; i++) {
            results[i][endColumn] = counter;
            counter++;
          }
          endColumn--;

          for (let i = endColumn; i >= startColumn; i--) {
            results[endRow][i] = counter;
            counter++;
          }
          endRow--;

          for (let i = endRow; i >= startRow; i--) {
            results[i][startColumn] = counter;
            counter++;
          }
          startColumn++;
        }
        return results;
      }

      console.log(matrix(4));
    </script>
  </body>
</html>
